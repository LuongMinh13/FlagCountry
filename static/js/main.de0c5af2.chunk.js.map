{"version":3,"sources":["components/Card.js","components/Countries.js","components/Logo.js","components/Navbar.js","pages/Home.js","components/DeleteArticle.js","components/Article.js","pages/News.js","App.js","index.js"],"names":["Card","props","x","country","className","src","flags","png","alt","name","common","capital","population","toString","replace","Countries","useState","data","setData","sortedData","setSortedData","playOnce","setPlayOne","rangeValue","setRangeValue","selectedRadio","setSelectedRadio","useEffect","axios","get","then","res","sortedArray","Object","keys","map","i","sort","a","b","length","sortedCountry","type","min","max","value","onChange","e","target","radio","id","checked","htmlFor","onClick","filter","region","includes","index","Logo","Navbar","to","activeclassname","Home","DeleteArticle","window","confirm","delete","location","reload","Article","date","article","isEditing","setIsEditing","editContent","SetEditContent","style","background","author","Date","toLocaleDateString","month","year","day","hour","minute","autoFocus","defaultValue","content","put","News","newsData","setNewsData","setAuthor","setContent","error","setError","getData","onSubmit","preventDefault","post","now","placeholder","border","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.de0c5af2.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Card(props) {\r\n  const { country } = props;\r\n  // console.log(country.population);\r\n\r\n  // Separateur pour les nombres de population\r\n  const numberFormat = (x) => {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img src={country.flags.png} alt=\"flags\" />\r\n      <div className=\"data-container\">\r\n        <ul>\r\n          <li>{country.name.common}</li>\r\n          <li>{country.capital}</li>\r\n          <li>Pop : {numberFormat(country.population)}</li>\r\n        </ul>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Card from \"./Card\";\r\n\r\nfunction Countries() {\r\n  const [data, setData] = useState([]);\r\n  const [sortedData, setSortedData] = useState([]);\r\n  const [playOnce, setPlayOne] = useState(true);\r\n  const [rangeValue, setRangeValue] = useState(40);\r\n  const [selectedRadio, setSelectedRadio] = useState(\"\");\r\n  const radios = [\"Africa\", \"America\", \"Asia\", \"Europe\", \"Oceania\"];\r\n\r\n  useEffect(() => {\r\n    if (playOnce) {\r\n      axios.get(\"https://restcountries.com/v3.1/all\").then((res) => {\r\n        setData(res.data);\r\n        setPlayOne(false);\r\n      });\r\n    }\r\n\r\n    const sortedCountry = () => {\r\n      const countryObj = Object.keys(data).map((i) => data[i]);\r\n      const sortedArray = countryObj.sort((a, b) => {\r\n        return b.population - a.population;\r\n      });\r\n      sortedArray.length = rangeValue;\r\n      setSortedData(sortedArray);\r\n    };\r\n    sortedCountry();\r\n  }, [data, rangeValue, playOnce]);\r\n\r\n  // console.log(data)\r\n  return (\r\n    <div className=\"countries\">\r\n      <div className=\"sort-container\">\r\n        <input\r\n          type=\"range\"\r\n          min=\"1\"\r\n          max=\"250\"\r\n          value={rangeValue}\r\n          onChange={(e) => setRangeValue(e.target.value)}\r\n        />\r\n        <ul>\r\n          {radios.map((radio) => {\r\n            return (\r\n              <li key={radio}>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={radio}\r\n                  id={radio}\r\n                  checked={radio === selectedRadio}\r\n                  onChange={(e) => setSelectedRadio(e.target.value)}\r\n                />\r\n                <label htmlFor={radio}>{radio}</label>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n      <div className=\"cancel\">\r\n        {selectedRadio && (\r\n          <h5 onClick={() => setSelectedRadio(\"\")}>Annuler recherche</h5>\r\n        )}\r\n      </div>\r\n      <ul className=\"countries-list\">\r\n        {sortedData\r\n          .filter((country) => country.region.includes(selectedRadio))\r\n          .map((country, index) => (\r\n            <Card country={country} key={index} />\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Countries;\r\n","import React from \"react\";\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className=\"logo\">\r\n      <img src=\"./img/logo192.png\" alt=\"logo\" />\r\n      <h3>React World</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <div className=\"navigation\">\r\n      <NavLink to=\"/\" activeclassname=\"active\">\r\n        Home\r\n      </NavLink>\r\n      {/* <NavLink to=\"/news\" activeclassname=\"active\">\r\n        News\r\n      </NavLink> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport Countries from \"../components/Countries\";\r\nimport Logo from \"../components/Logo\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <Navbar />\r\n      <Logo />\r\n      <Countries />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction DeleteArticle({ id }) {\r\n  const handleDelete = () => {\r\n    axios.delete(\"http://localhost:3003/articles/\" + id);\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        if (window.confirm(\"Do you want to delete article ?\")) {\r\n          handleDelete();\r\n        }\r\n      }}\r\n    >\r\n      Delete\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default DeleteArticle;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport DeleteArticle from \"./DeleteArticle\";\r\n\r\nfunction Article({ article }) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editContent, SetEditContent] = useState(\"\");\r\n\r\n  const dateParser = (date) => {\r\n    let newDate = new Date(date).toLocaleDateString(\"fr-FR\", {\r\n      month: \"long\",\r\n      year: \"numeric\",\r\n      day: \"numeric\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    });\r\n    return newDate;\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    const data = {\r\n      author: article.author,\r\n      content: editContent ? editContent : article.content,\r\n      date: article.date,\r\n    };\r\n\r\n    axios.put(\"http://localhost:3003/articles/\" + article.id, data).then(() => {\r\n      setIsEditing(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"article\"\r\n      style={{ background: isEditing ? \"#f3feff\" : \"white\" }}\r\n    >\r\n      <div className=\"card-header\">\r\n        <h3>{article.author}</h3>\r\n        <em>Post {dateParser(article.date)}</em>\r\n      </div>\r\n\r\n      {isEditing ? (\r\n        <textarea\r\n          autoFocus\r\n          defaultValue={editContent ? editContent : article.content}\r\n          onChange={(e) => SetEditContent(e.target.value)}\r\n        ></textarea>\r\n      ) : (\r\n        <p>{editContent ? editContent : article.content}</p>\r\n      )}\r\n\r\n      <div className=\"btn-container\">\r\n        {isEditing ? (\r\n          <button onClick={handleEdit}>Valider</button>\r\n        ) : (\r\n          <button onClick={() => setIsEditing(true)}>Edit</button>\r\n        )}\r\n\r\n        <DeleteArticle id={article.id} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Article;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Logo from \"../components/Logo\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport axios from \"axios\";\r\nimport Article from \"../components/Article\";\r\n\r\nfunction News() {\r\n  const [newsData, setNewsData] = useState([]);\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const getData = () => {\r\n    axios\r\n      .get(\"http://localhost:3003/articles\")\r\n      .then((res) => setNewsData(res.data));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    // Empecher la page recharge\r\n    e.preventDefault();\r\n\r\n    if (content.length < 140) {\r\n      setError(true);\r\n    } else {\r\n      axios\r\n        .post(\"http://localhost:3003/articles\", {\r\n          author: author,\r\n          content: content,\r\n          date: Date.now(),\r\n        })\r\n        .then(() => {\r\n          setContent(\"\");\r\n          setAuthor(\"\");\r\n          getData();\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"news-container\">\r\n      <Navbar />\r\n      <Logo />\r\n      <h1>News</h1>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          onChange={(e) => setAuthor(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={author}\r\n        />\r\n        <textarea\r\n          style={{ border: error ? \"1px solid red\" : \"1px solid #61dafb\" }}\r\n          placeholder=\"Messagge\"\r\n          onChange={(e) => setContent(e.target.value)}\r\n          value={content}\r\n        ></textarea>\r\n        {error && <p>Need more than 140 words</p>}\r\n        <input type=\"submit\" value=\"Send\" />\r\n      </form>\r\n\r\n      <ul>\r\n        {newsData\r\n          .sort((a, b) => b.date - a.date)\r\n          .map((article) => (\r\n            <Article key={article.id} article={article} />\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default News;\r\n","import Home from \"./pages/Home\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport News from \"./pages/News\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/news\" element={<News />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}